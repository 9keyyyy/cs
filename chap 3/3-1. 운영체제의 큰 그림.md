# 3-1 운영체제의 큰 그림

<img width="450"  alt="스크린샷 2025-12-23 오후 4 46 22" src="https://github.com/user-attachments/assets/40f108d5-5f46-40fc-9255-dd8b5ce4fbf8" />

- 운영체제 종류: 맥OS, 리눅스, 윈도우, iOS ...
- 종류에 관계 없이 운영체제가 제공하는 핵심적인 기능은 비슷
- **커널**: 운영체제의 핵심 기능을 담당하는 부분
- 핵심 기능
  - **자원 할당 및 관리**
  - **프로세스 및 스레드 관리**


## 운영체제의 역할
- 시스템 자원: 프로그램 실행에 필요한 요소
  - 실행에 필요한 데이터 (소프트웨어)
  - 실행에 필요한 부품 (하드웨어)
- 사용자가 실행하는 응용 프로그램을 대신하여 CPU, 메모리, 보조기억장치 등의 컴퓨터 부품에 접근 및 효율적으로 사용되도록 관리
- 응용프로그램이 컴퓨터 부품들을 효율적으로 할당받아 문제없이 실행할 수 있도록 자원 할당

<img width="834" height="413" alt="스크린샷 2025-12-23 오후 4 59 10" src="https://github.com/user-attachments/assets/cab20e38-3627-491d-8873-90660724f1ca" />

### 1. CPU 관리: CPU 스케줄링

- CPU는 메모리에 실행 중인 프로그램 모두를 동시에 실행하지 않음 (한정된 자원)
  - 일부는 다른 프로그램의 CPU 사용이 끝날 때까지 대기
- 운영체제는 실행 중인 모든 프로그램이 합리적으로 CPU를 할당받도록 **CPU의 할당 순서와 사용 시간 결정**

### 2. 메모리 관리: 가상 메모리
- 운영체제는 새롭게 실행하는 프로그램을 메모리에 적재, 종료된 프로그램은 삭제
- 낭비되는 메모리 용량이 없고 효율적으로 관리하기 위해 **가상 메모리** 기술 활용
  - 실제 물리적 메모리 크기보다 더 큰 메모리를 이용할 수 있도록하는 기술
 
### 3. 파일/디렉터리 관리: 파일 시스템
- 보조기억장치에 아무렇게나 정보를 저장하면 원하는 정보에 접근하기 위해 많은 시간이 소요
- 파일 시스템은 보조기억장치 내 정보를 **파일 및 폴더 단위로 접근/관리**할 수 있도록 만드는 운영체제 내부 프로그램

### 4. 프로세스 및 스레드 관리
- **프로세스 = 실행 중인 프로그램**
  - **스레드 = 이 프로세스를 이루는 실행 단위**
- 실행 과정?
  - 메모리에 여러 프로세스 적재
  - 운영체제는 이 프로세스에 필요한 자원 할당
  - 스레드는 프로세스가 할당받은 자원을 이용해 프로세스의 작업 수행
- 운영체제는 동시다발적으로 실행되는 프로세스와 스레드의 순서를 제어 + 자원을 적절하게 배분

## 시스템콜과 이중 모드
- 운영체제도 일종의 프로그램 -> 메모리에 적재 필요
- 다만, 사용자 프로그램과 달리 매모리 내 **커널 영역**이라는 공간에 따로 적제되어 실행
- 사용자 프로그램(웹 브라우저, 게임 등)이 적재되는 공간은 **사용자 영역** </br>
   <img width="263" height="294" alt="스크린샷 2025-12-23 오후 5 07 04" src="https://github.com/user-attachments/assets/361c83c9-7600-483d-9920-16e864839921" />
- **운영체제의 기능을 제공받기 위해서는 커널 영역에 적재된 운영체제 코드 실행 필요**
  - 사용자 프로그램은 CPU, 메모리와 같은 자원에 접근/조작 불가 -> 운영체제 코드 실행해야함
  - 사용자 프로그램이 운영체제의 코드를 실행하는 방법? **시스템 콜** (호출 가능한 함수 형태)
     <img width="639" height="376" alt="스크린샷 2025-12-23 오후 5 08 08" src="https://github.com/user-attachments/assets/91fd226d-a3a8-43f9-99d8-413c359c9cf7" />
  - 시스템 콜 종류: 프로세스 관리, 파일 관리, 디렉터리 관리, 파일 시스템 관리 등 다양
- 소프트웨어 인터럽트와 커널 모드, 사용자 모드<br>
   <img width="550" alt="스크린샷 2025-12-23 오후 5 53 58" src="https://github.com/user-attachments/assets/d4b54afe-efff-4504-b112-50b105775583" />
  - 소프트웨어 인터럽트: 자원에 접근하는 입출력 명령어에 의해 발생하는 인터럽트 (ex. 시스템 콜)
  - 사용자 모드: 사용자 영역에 적재된 코드를 실행. 운영체제 서비스를 제공받을 수 없는 모드
  - 커널 모듸 커널 역역에 적재된 코드를 실행. 운영체제 서비스를 제공받을 수 있는 모드
